<script src="//maps.google.com/maps/api/js?key=AIzaSyCWwWeJK15L9LFKVlBSY2835aanL7iekRM"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->
 


<!-- Google map -->
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'>
    <script>
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers([
        {
          "lat": 0,
          "lng": 0,
          "picture": {
            "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
            "width":  32,
            "height": 32
          },
          "infowindow": "hello!"
        }
      ]);
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
      handler.getMap().setZoom(13);

    });
  </script>
  </div>
</div>
<!-- End of Google map -->

<br>

<div class="col-3">
  <img src="<%=@event.image_url%>" alt="event Image" style="width:100px;"> 
</div>


<div class="col-6 event_information">
  <h1>Title: <%=@event.title %></h1>
  <h1>Description: <%=@event.description %></h1>
  <h1>Start time: <%=@event.beg_time.strftime('%A, %d %b %Y %l:%M %p') %></h1>
  <h1>End time: <%=@event.end_time.strftime('%A, %d %b %Y %l:%M %p') %></h1>
  <h1>Maximum number of athletes: <%=@event.max_athletes %></h1>
  <h1>Location name: <%=@event.location %></h1>
  <h1>City: <%=@event.city %></h1>


  <h1>Athletes Attending: 
    <ol>
    <%@event.users.each do |user| %>
    
        <li><%= user.username %></li>
    
    <% end %>
    </ol>
</h1>
  
</div>


<% if @event.users.where(id: current_user.id).present? == false %>
  <%= link_to 'join', '/events/'+ params[:id] + '/join' %> <br>
<% end %>
<%= link_to 'leave', '/events/'+ params[:id] + '/leave' %> <br>


<%= link_to "Delete Event", event_path(@event), method: :delete, data: {confirm: "Are you sure you would like to delete?"}%>
